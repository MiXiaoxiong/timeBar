# 项目时间轴看板

## 项目概述

本项目是基于飞书插件开发的时间轴看板应用，旨在可视化展示飞书多维表格中指定分组下的时间节点。通过直观的时间轴视图，用户可以清晰地了解项目进程和关键里程碑。

## 功能特性

### 配置功能
- 支持选择飞书多维表格中的指定分组（可嵌套分组）
- 获取并解析该分组下的所有时间节点数据
- 配置时间轴的显示范围和样式
- 支持时间节点的分类和筛选

### 可视化功能
- 横轴时间轴展示
- 时间节点以红色三角形/倒三角形形式标注在时间轴上
- 保证节点的尖端准确指向时间轴
- 支持鼠标悬停查看节点详情
- 响应式设计，适配不同屏幕尺寸

### 交互功能
- 时间轴缩放和平移
- 节点详情查看
- 时间节点过滤和搜索

## 技术栈

- **前端框架**：React 18 + TypeScript
- **构建工具**：Vite
- **UI组件库**：Semi UI (@douyinfe/semi-ui)
- **图表库**：自定义Canvas/SVG绘图
- **国际化**：i18next + react-i18next
- **日期处理**：dayjs
- **飞书SDK**：@lark-base-open/js-sdk

## 项目结构

```
src/
├── components/
│   ├── Timeline/           # 时间轴组件
│   ├── ConfigPanel/        # 配置面板组件
│   ├── NodeItem/           # 时间节点组件
│   ├── GroupSelector/      # 分组选择器组件
│   └── LoadApp/            # 应用加载包装器
├── utils/                  # 工具函数
│   ├── dateUtils.ts        # 日期处理工具
│   └── timelineUtils.ts    # 时间轴计算工具
├── hooks.ts                # 自定义hooks
├── locales/                # 国际化文件
├── App.tsx                 # 应用入口组件
└── index.tsx               # 应用入口文件
```

## 实现计划

### 阶段一：数据获取与配置
1. 开发分组选择器组件，支持嵌套分组的选择
2. 通过飞书SDK获取指定分组下的所有记录
3. 解析记录中的时间字段，提取时间节点数据
4. 实现配置保存和加载功能

### 阶段二：时间轴渲染
1. 开发时间轴基础组件，计算合适的时间范围和刻度
2. 实现节点位置计算算法，确保节点准确标注
3. 开发三角形节点渲染组件，支持正三角和倒三角
4. 实现时间轴的缩放和平移功能

### 阶段三：交互增强
1. 添加鼠标悬停效果，显示节点详情
2. 实现节点的过滤和搜索功能
3. 优化性能，处理大量节点的渲染
4. 添加响应式设计，适配不同设备

### 阶段四：测试与优化
1. 单元测试和集成测试
2. 性能优化
3. 用户体验改进
4. 国际化支持完善

## 配置说明

### 项目配置

- **package.json中的output字段**指定了部署的目录，将会直接部署该目录，所以每次提交之前，都需要手动pnpm run build来生成部署产物。

### 开发指南

1. 安装依赖：
```bash
pnpm install
```

2. 开发模式：
```bash
pnpm dev
```

3. 构建项目：
```bash
pnpm build
```

4. 预览构建：
```bash
pnpm preview
```

## 注意事项

1. 确保正确配置飞书开发者权限，以访问多维表格数据
2. 大量数据时注意性能优化，避免渲染卡顿
3. 时间轴计算需考虑时区问题
4. 节点过多时可考虑实现虚拟列表或分页加载

## License

MIT